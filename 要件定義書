要件定義書：地域別・年収別・ライフプラン別 FIREシミュレーター（MVP）
1. 目的
1.1 背景

FIRE（Financial Independence, Retire Early）関連の検索はロングテールが非常に強い。
既存のFIRE計算機は全国一律・単純計算が多く、地域差・家族構成・住宅形態を踏まえた「現実感ある回答」に不足がある。

1.2 ゴール

ユーザーが「自分の条件でFIRE可能か」を短時間で把握できる

地域×年収×ライフプランの検索流入（SEO）を獲得する

運用は隙間時間で可能（自動生成/テンプレート量産）

1.3 KPI（MVP）

インデックスされるページ数（LP/記事）

検索流入（自然検索セッション）

主要LPのCV（メール登録 or 結果保存 or PDF DLのいずれか1つ）

2. スコープ
2.1 MVPに含める

FIREシミュレーション（Web）

地域別生活費係数（簡易DB）

主要パラメータ入力フォーム

結果ページ（必要資産・達成年・シナリオ比較）

SEO用の静的ページ量産（地域別/年収別/家族構成別のテンプレ）

結果の保存（最低限：URLにクエリで再現 or サーバ保存どちらでも可）

免責事項、前提の明示

2.2 MVPに含めない（将来）

ログイン/課金

FP相談マッチング

証券会社API連携

AIチャット相談（将来拡張に記載）

3. ユーザー像（MVP）

FIREに興味があるが、具体的に何をすれば良いか曖昧

「地域（居住地）を変えない前提」の生活コストで知りたい

年収・家族構成・住宅状況が異なるため、一般論が刺さらない

4. 提供価値（ユーザーストーリー）

US1: ユーザーは地域と年収と家族構成を入れて、FIRE必要資産が知りたい

US2: ユーザーは「楽観/中立/悲観」で達成可能性の差を見たい

US3: ユーザーは「いまの貯蓄・投資額」から、FIRE達成年を知りたい

US4: ユーザーは前提（利回り、インフレ、支出）を変更して再計算したい

US5: 検索流入ユーザーは記事LPから計算フォームに誘導されたい

5. 機能要件
5.1 入力フォーム（必須）

入力項目

地域：都道府県（MVP）または主要都市（拡張）

年収（額面）または手取り（どちらか選択）

現在の金融資産（貯蓄＋投資）

毎月の投資可能額（積立額）

家族構成：独身/夫婦/子供人数（0〜3程度）

住宅：賃貸/持ち家（ローン有無は拡張でも可）

目標：FIREしたい年齢（任意）

想定利回り（年率）：デフォルト 4%（ユーザー変更可）

取り崩し率（SWR）：デフォルト 4%（ユーザー変更可）

物価上昇率（インフレ）：デフォルト 2%（ユーザー変更可）

UI

最短で入力できる（モバイル最適）

デフォルト値を多めに入れて“すぐ結果が出る”

5.2 計算ロジック（必須）

MVPは「十分それっぽい」精度でOK。厳密な税制最適化は不要。

5.2.1 生活費推定

ベース生活費（全国基準）× 地域係数 × 家族係数 × 住宅係数

地域係数：都道府県ごとに 0.85〜1.25 などで設定（CSV/JSONで管理）

家族係数：独身=1.0, 夫婦=1.3, 子供1人=+0.25, 子供2人=+0.45…のように単純化

住宅係数：賃貸=1.0, 持ち家=0.9（仮）など、MVPは単純化

5.2.2 必要資産（FIREナンバー）

年間支出 = 月間支出 × 12

必要資産 = 年間支出 / SWR
例：支出360万、SWR 4% → 9000万

5.2.3 達成年（積立＋複利）

年次で複利計算（離散時間）

資産_t+1 = 資産_t × (1 + 利回り) + 年間積立

「必要資産」を超える最初の年を達成年とする

インフレ考慮ONの場合：支出（＝必要資産）も年率で増える

5.2.4 シナリオ（必須）

楽観：利回り +2pt / 支出 -5%（例）

中立：デフォルト

悲観：利回り -2pt / 支出 +10%（例）
※パラメータはコンフィグで調整可能に

5.3 出力（必須）

結果画面に以下を表示：

FIRE必要資産（中立）

達成年齢（中立）（入力が年齢なら年齢、入力が年度なら年度）

3シナリオ比較（表＋簡易グラフ）

前提条件の一覧（地域係数、利回り、SWR、インフレ等）

次の一手（提案はテンプレでOK）

「積立を+1万円すると達成年が何年縮む」などの感度分析（簡易）

5.4 SEOページ量産（必須）
5.4.1 生成するページタイプ（MVP）

地域別LP：/fire/{pref}

地域×年収別：/fire/{pref}/income-{n}

地域×家族構成別：/fire/{pref}/family-{type}

記事（説明）：/guide/{slug}

5.4.2 生成方法

静的生成（SSG）で大量ページを作る（Next.js/astro等）

テンプレートに 計算例（固定パラメータ） を埋め込む

CTAで計算フォームへ誘導

5.4.3 コンテンツ要件

薄いページにならないよう、各LPに以下を含める

地域の生活費傾向（係数の説明）

代表ケース3つ（年収別 or 家族別）

よくある質問（FAQ）5〜8個（テンプレ＋地域差分）

免責と前提

※記事文はClaudeで量産してOK（開発時に生成してコミット）

6. データ要件
6.1 地域係数DB

形式：JSON or CSV

キー：pref_code / pref_name

値：cost_index（例：東京1.20、地方0.90など）

MVPは “ざっくり” でよい（後で差し替え可能な設計に）

6.2 係数・シナリオ設定

configファイル化（例：/config/assumptions.json）

係数やデフォルト値、文言テンプレをコードから分離

7. 画面要件（MVP）

トップ（説明＋CTA）

入力フォーム

結果ページ（shareable）

SEO LP（多数）

要件

モバイル最優先

表示速度（Core Web Vitals意識）

URL共有で同じ結果を再現できる（クエリパラメータ方式が最軽量）

8. 非機能要件

セキュリティ：個人情報は原則保存しない（MVP）

パフォーマンス：SSGで高速配信

運用：係数DBとテンプレ更新だけで改善できる

法務：免責（投資助言ではない、概算である）を明記

9. 技術方針（実装候補）

※Claudeが選んで良いが、MVPは速度優先。

フロント：Next.js（SSG） or Astro

計算：フロント内（TypeScript）で完結（API不要でも可）

デプロイ：Vercel/Cloudflare Pages 等

データ：JSON同梱

10. 受け入れ条件（Acceptance Criteria）

入力フォームから結果が表示される（中立＋シナリオ比較）

地域係数が反映され、地域を変えると結果が変わる

URL共有で同一条件の結果が再現できる

1000ページ規模のLPをSSGで生成できる（最低100でも可、拡張可能であること）

免責・前提が全ページに表示される

11. Claudeへの作業指示（実装タスク分解）

Claude Codeに依頼するタスクリスト：

リポジトリ初期化（SSG選定、フォルダ構成）

assumptions/configの設計と実装

地域係数DB（JSON）読み込み

計算エンジン（純関数）実装＋ユニットテスト

フォームUI実装（バリデーション含む）

結果ページ（表＋グラフ）実装

ルーティング設計（/fire/{pref} 等）

SEOテンプレ（メタタグ、OGP、構造化データ）

大量ページ生成（pref×income×family）

免責・FAQコンポーネント共通化

12. 将来拡張（AI組み込みも視野）

AI（Claude等）をサービスに組み込む場合の“後付けしやすい形”：

結果ページに「解説」セクション（今はテンプレ文章、将来はAI生成）

入力から「改善提案」を作る部分をモジュール分離

ユーザープロファイル（保存/ログイン）を後付け可能なルーティングにしておく